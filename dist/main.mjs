import{useRef as t,useState as e,useEffect as r}from"react";import{FormRunner as i}from"form-runner";import n from"lodash-es/isArray";import o from"lodash-es/isObject";function s(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function d(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,d)}u((i=i.apply(t,e||[])).next())}))}function d(r,n,o){const s=t(new i(r,n,o)).current,[,d]=e(0);function u(){d((t=>t+1))}return{errorFlatList:s.errorFlatList,errors:s.errors,touched:s.touched,dirty:s.dirty,getFieldState:function(t,e,r){return s.getFieldState(t,e,r)},getFieldTouched:function(t){return s.getFieldTouched(t)},setFieldTouched:function(t,e){s.setFieldTouched(t,e),u()},setFieldsTouched:function(t,e){s.setFieldsTouched(t,e),u()},setTouchedAll:function(t){s.setTouchedAll(t),u()},getFieldDirty:function(t){return s.getFieldDirty(t)},setFieldDirty:function(t,e){s.setFieldDirty(t,e),u()},setFieldsDirty:function(t,e){s.setFieldsDirty(t,e),u()},setDirtyAll:function(t){s.setDirtyAll(t),u()},getFieldValid:function(t){return s.getFieldValid(t)},getFieldErrors:function(t){return s.getFieldErrors(t)},isFormDirty:function(){return s.isFormDirty()},isFormValid:function(){return s.isFormValid()},validateAsync:function(t){return s.validateAsync(t).then((t=>(u(),t)))}}}function u(t,i,n){const[o,u]=e(!1),{errorFlatList:l,errors:c,touched:F,dirty:f,getFieldTouched:a,setFieldTouched:y,setFieldsTouched:h,setTouchedAll:g,getFieldDirty:m,setFieldDirty:D,setFieldsDirty:T,setDirtyAll:p,getFieldValid:A,getFieldErrors:v,getFieldState:S,isFormDirty:V,isFormValid:w,validateAsync:E}=d(t,i,n);function b(){var t=!1;return(()=>{s(this,void 0,void 0,(function*(){return yield E(i).then((e=>t=e)).catch((()=>t=!1))}))})(),t}return r((()=>{b()}),[]),{errorFlatList:l,errors:c,touched:F,dirty:f,isSubmitting:o,isFormDirty:V,isFormValid:w,validateAsync:E,validate:b,setIsSubmitting:function(t){u(t)},getFieldState:S,getFieldTouched:a,setFieldTouched:y,setFieldsTouched:h,setTouchedAll:g,getFieldDirty:m,setFieldDirty:D,setFieldsDirty:T,setDirtyAll:p,getFieldValid:A,getFieldErrors:v}}"function"==typeof SuppressedError&&SuppressedError;const l=u;function c(t,e){return function t(e,r="",i="."){const n={};for(const s in e)if(e.hasOwnProperty(s)){const d=r?r+i+s:s;o(e[s])&&null!==e[s]?Object.assign(n,t(e[s],d,i)):n[d]=e[s]}return n}(t,"",e)}function F(t,e){const r=[];return function t(e,i="",n="."){for(const s in e)if(e.hasOwnProperty(s)){const d=i?`${i}.${s}`:s;o(e[s])&&null!==e[s]?t(e[s],d,n):r.push({key:d,value:e[s]})}}(t,"",e),r}function f(t){Object.freeze(t);for(const e in t)o(t[e]||n(t[e]))&&f(t[e]);return t}export{f as deepFreeze,c as flattenObject,F as flattenObjectToArray,d as useFormFieldState,l as useFormRunner,u as useFormValidation};
//# sourceMappingURL=main.mjs.map
