"use strict";var e=require("react"),t=require("form-runner"),r=require("lodash-es/isArray"),i=require("lodash-es/isObject"),n=require("mutation-tracker");function o(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function u(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,u)}c((i=i.apply(e,t||[])).next())}))}function s(r,i,n){const o=e.useRef(new t.FormRunner(r,i,n)).current,[,s]=e.useState(0);function u(){s((e=>e+1))}return{errorFlatList:o.errorFlatList,errors:o.errors,touched:o.touched,dirty:o.dirty,getFieldState:function(e,t,r){return o.getFieldState(e,t,r)},getFieldTouched:function(e){return o.getFieldTouched(e)},setFieldTouched:function(e,t){o.setFieldTouched(e,t),u()},setFieldsTouched:function(e,t){o.setFieldsTouched(e,t),u()},setTouchedAll:function(e){o.setTouchedAll(e),u()},getFieldDirty:function(e){return o.getFieldDirty(e)},setFieldDirty:function(e,t){o.setFieldDirty(e,t),u()},setFieldsDirty:function(e,t){o.setFieldsDirty(e,t),u()},setDirtyAll:function(e){o.setDirtyAll(e),u()},getFieldValid:function(e){return o.getFieldValid(e)},getFieldErrors:function(e){return o.getFieldErrors(e)},isFormDirty:function(){return o.isFormDirty()},isFormValid:function(){return o.isFormValid()},validateAsync:function(e){return o.validateAsync(e).then((e=>(u(),e)))}}}function u(t,r,i){const[n,u]=e.useState(!1),{errorFlatList:c,errors:d,touched:l,dirty:a,getFieldTouched:F,setFieldTouched:f,setFieldsTouched:y,setTouchedAll:h,getFieldDirty:g,setFieldDirty:D,setFieldsDirty:p,setDirtyAll:m,getFieldValid:T,getFieldErrors:A,getFieldState:v,isFormDirty:S,isFormValid:x,validateAsync:b}=s(t,r,i);function V(){var e=!1;return(()=>{o(this,void 0,void 0,(function*(){return yield b(r).then((t=>e=t)).catch((()=>e=!1))}))})(),e}return e.useEffect((()=>{V()}),[]),{errorFlatList:c,errors:d,touched:l,dirty:a,isSubmitting:n,isFormDirty:S,isFormValid:x,validateAsync:b,validate:V,setIsSubmitting:function(e){u(e)},getFieldState:v,getFieldTouched:F,setFieldTouched:f,setFieldsTouched:y,setTouchedAll:h,getFieldDirty:g,setFieldDirty:D,setFieldsDirty:p,setDirtyAll:m,getFieldValid:T,getFieldErrors:A}}"function"==typeof SuppressedError&&SuppressedError;const c=u;exports.deepFreeze=function e(t){Object.freeze(t);for(const n in t)i(t[n]||r(t[n]))&&e(t[n]);return t},exports.flattenObject=function(e,t){return function e(t,r="",n="."){const o={};for(const s in t)if(t.hasOwnProperty(s)){const u=r?r+n+s:s;i(t[s])&&null!==t[s]?Object.assign(o,e(t[s],u,n)):o[u]=t[s]}return o}(e,"",t)},exports.flattenObjectToArray=function(e,t){const r=[];return function e(t,n="",o="."){for(const s in t)if(t.hasOwnProperty(s)){const u=n?`${n}.${s}`:s;i(t[s])&&null!==t[s]?e(t[s],u,o):r.push({key:u,value:t[s]})}}(e,"",t),r},exports.getDeep=function(e,t){return n.getAttributeMutation(e,t)},exports.setDeep=function(e,t,r){return n.setAttributeMutated(e,t,r)},exports.useFormFieldState=s,exports.useFormRunner=c,exports.useFormValidation=u;
//# sourceMappingURL=index.js.map
