import{useRef as t,useState as e,useEffect as r}from"react";import{FormRunner as i,getDeep as n,setDeep as o}from"form-runner";import s from"lodash-es/isArray";import u from"lodash-es/isObject";function d(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{d(i.next(t))}catch(t){o(t)}}function u(t){try{d(i.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}d((i=i.apply(t,e||[])).next())}))}function c(r,n,o){const s=t(new i(r,n,o)).current,[,u]=e(0);function d(){u((t=>t+1))}return{errorFlatList:s.errorFlatList,errors:s.errors,touched:s.touched,dirty:s.dirty,getFieldState:function(t,e,r){return s.getFieldState(t,e,r)},getFieldTouched:function(t){return s.getFieldTouched(t)},setFieldTouched:function(t,e){s.setFieldTouched(t,e),d()},setFieldsTouched:function(t,e){s.setFieldsTouched(t,e),d()},setTouchedAll:function(t){s.setTouchedAll(t),d()},getFieldDirty:function(t){return s.getFieldDirty(t)},setFieldDirty:function(t,e){s.setFieldDirty(t,e),d()},setFieldsDirty:function(t,e){s.setFieldsDirty(t,e),d()},setDirtyAll:function(t){s.setDirtyAll(t),d()},getFieldValid:function(t){return s.getFieldValid(t)},getFieldErrors:function(t){return s.getFieldErrors(t)},isFormDirty:function(){return s.isFormDirty()},isFormValid:function(){return s.isFormValid()},validateAsync:function(t){return s.validateAsync(t).then((t=>(d(),t)))}}}function l(t,i,n){const[o,s]=e(!1),{errorFlatList:u,errors:l,touched:F,dirty:f,getFieldTouched:a,setFieldTouched:y,setFieldsTouched:h,setTouchedAll:g,getFieldDirty:D,setFieldDirty:m,setFieldsDirty:p,setDirtyAll:T,getFieldValid:A,getFieldErrors:v,getFieldState:S,isFormDirty:V,isFormValid:w,validateAsync:E}=c(t,i,n);function b(){var t=!1;return(()=>{d(this,void 0,void 0,(function*(){return yield E(i).then((e=>t=e)).catch((()=>t=!1))}))})(),t}return r((()=>{b()}),[]),{errorFlatList:u,errors:l,touched:F,dirty:f,isSubmitting:o,isFormDirty:V,isFormValid:w,validateAsync:E,validate:b,setIsSubmitting:function(t){s(t)},getFieldState:S,getFieldTouched:a,setFieldTouched:y,setFieldsTouched:h,setTouchedAll:g,getFieldDirty:D,setFieldDirty:m,setFieldsDirty:p,setDirtyAll:T,getFieldValid:A,getFieldErrors:v}}"function"==typeof SuppressedError&&SuppressedError;const F=l;function f(t,e){return n(t,e)}function a(t,e,r){return o(t,e,r)}function y(t,e){return function t(e,r="",i="."){const n={};for(const o in e)if(e.hasOwnProperty(o)){const s=r?r+i+o:o;u(e[o])&&null!==e[o]?Object.assign(n,t(e[o],s,i)):n[s]=e[o]}return n}(t,"",e)}function h(t,e){const r=[];return function t(e,i="",n="."){for(const o in e)if(e.hasOwnProperty(o)){const s=i?`${i}.${o}`:o;u(e[o])&&null!==e[o]?t(e[o],s,n):r.push({key:s,value:e[o]})}}(t,"",e),r}function g(t){Object.freeze(t);for(const e in t)u(t[e]||s(t[e]))&&g(t[e]);return t}export{g as deepFreeze,y as flattenObject,h as flattenObjectToArray,f as getDeep,a as setDeep,c as useFormFieldState,F as useFormRunner,l as useFormValidation};
//# sourceMappingURL=index.mjs.map
