import{useRef as t,useState as e,useEffect as r}from"react";import{FormRunner as i}from"form-runner";import n from"lodash-es/isArray";import o from"lodash-es/isObject";import{getAttributeMutation as s,setAttributeMutated as u}from"mutation-tracker";function c(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function u(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}c((i=i.apply(t,e||[])).next())}))}function d(r,n,o){const s=t(new i(r,n,o)).current,[,u]=e(0);function c(){u((t=>t+1))}return{errorFlatList:s.errorFlatList,errors:s.errors,touched:s.touched,dirty:s.dirty,getFieldState:function(t,e,r){return s.getFieldState(t,e,r)},getFieldTouched:function(t){return s.getFieldTouched(t)},setFieldTouched:function(t,e){s.setFieldTouched(t,e),c()},setFieldsTouched:function(t,e){s.setFieldsTouched(t,e),c()},setTouchedAll:function(t){s.setTouchedAll(t),c()},getFieldDirty:function(t){return s.getFieldDirty(t)},setFieldDirty:function(t,e){s.setFieldDirty(t,e),c()},setFieldsDirty:function(t,e){s.setFieldsDirty(t,e),c()},setDirtyAll:function(t){s.setDirtyAll(t),c()},getFieldValid:function(t){return s.getFieldValid(t)},getFieldErrors:function(t){return s.getFieldErrors(t)},isFormDirty:function(){return s.isFormDirty()},isFormValid:function(){return s.isFormValid()},validateAsync:function(t){return s.validateAsync(t).then((t=>(c(),t)))}}}function l(t,i,n){const[o,s]=e(!1),{errorFlatList:u,errors:l,touched:f,dirty:F,getFieldTouched:a,setFieldTouched:y,setFieldsTouched:h,setTouchedAll:g,getFieldDirty:m,setFieldDirty:D,setFieldsDirty:p,setDirtyAll:T,getFieldValid:A,getFieldErrors:v,getFieldState:S,isFormDirty:V,isFormValid:w,validateAsync:E}=d(t,i,n);function b(){var t=!1;return(()=>{c(this,void 0,void 0,(function*(){return yield E(i).then((e=>t=e)).catch((()=>t=!1))}))})(),t}return r((()=>{b()}),[]),{errorFlatList:u,errors:l,touched:f,dirty:F,isSubmitting:o,isFormDirty:V,isFormValid:w,validateAsync:E,validate:b,setIsSubmitting:function(t){s(t)},getFieldState:S,getFieldTouched:a,setFieldTouched:y,setFieldsTouched:h,setTouchedAll:g,getFieldDirty:m,setFieldDirty:D,setFieldsDirty:p,setDirtyAll:T,getFieldValid:A,getFieldErrors:v}}"function"==typeof SuppressedError&&SuppressedError;const f=l;function F(t,e){return s(t,e)}function a(t,e,r){return u(t,e,r)}function y(t,e){return function t(e,r="",i="."){const n={};for(const s in e)if(e.hasOwnProperty(s)){const u=r?r+i+s:s;o(e[s])&&null!==e[s]?Object.assign(n,t(e[s],u,i)):n[u]=e[s]}return n}(t,"",e)}function h(t,e){const r=[];return function t(e,i="",n="."){for(const s in e)if(e.hasOwnProperty(s)){const u=i?`${i}.${s}`:s;o(e[s])&&null!==e[s]?t(e[s],u,n):r.push({key:u,value:e[s]})}}(t,"",e),r}function g(t){Object.freeze(t);for(const e in t)o(t[e]||n(t[e]))&&g(t[e]);return t}export{g as deepFreeze,y as flattenObject,h as flattenObjectToArray,F as getDeep,a as setDeep,d as useFormFieldState,f as useFormRunner,l as useFormValidation};
//# sourceMappingURL=index.mjs.map
