import{useRef as t,useState as e,useEffect as r}from"react";function n(t,e){return t===e||t!=t&&e!=e}function o(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}var u=Array.prototype.splice;function i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}i.prototype.clear=function(){this.__data__=[],this.size=0},i.prototype.delete=function(t){var e=this.__data__,r=o(e,t);return!(r<0)&&(r==e.length-1?e.pop():u.call(e,r,1),--this.size,!0)},i.prototype.get=function(t){var e=this.__data__,r=o(e,t);return r<0?void 0:e[r][1]},i.prototype.has=function(t){return o(this.__data__,t)>-1},i.prototype.set=function(t,e){var r=this.__data__,n=o(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var a="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,s=a||c||Function("return this")(),f=s.Symbol,l=Object.prototype,b=l.hasOwnProperty,y=l.toString,p=f?f.toStringTag:void 0;var d=Object.prototype.toString;var v=f?f.toStringTag:void 0;function h(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":v&&v in Object(t)?function(t){var e=b.call(t,p),r=t[p];try{t[p]=void 0;var n=!0}catch(t){}var o=y.call(t);return n&&(e?t[p]=r:delete t[p]),o}(t):function(t){return d.call(t)}(t)}function j(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function g(t){if(!j(t))return!1;var e=h(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var _,m=s["__core-js_shared__"],A=(_=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"";var O=Function.prototype.toString;function w(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var F=/^\[object .+?Constructor\]$/,S=Function.prototype,M=Object.prototype,x=S.toString,T=M.hasOwnProperty,B=RegExp("^"+x.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function z(t){return!(!j(t)||(e=t,A&&A in e))&&(g(t)?B:F).test(w(t));var e}function D(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return z(r)?r:void 0}var N=D(s,"Map"),V=D(Object,"create");var k=Object.prototype.hasOwnProperty;var E=Object.prototype.hasOwnProperty;function P(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function I(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function $(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}P.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},P.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},P.prototype.get=function(t){var e=this.__data__;if(V){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return k.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:E.call(e,t)},P.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=V&&void 0===e?"__lodash_hash_undefined__":e,this},$.prototype.clear=function(){this.size=0,this.__data__={hash:new P,map:new(N||i),string:new P}},$.prototype.delete=function(t){var e=I(this,t).delete(t);return this.size-=e?1:0,e},$.prototype.get=function(t){return I(this,t).get(t)},$.prototype.has=function(t){return I(this,t).has(t)},$.prototype.set=function(t,e){var r=I(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function U(t){var e=this.__data__=new i(t);this.size=e.size}function L(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}U.prototype.clear=function(){this.__data__=new i,this.size=0},U.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},U.prototype.get=function(t){return this.__data__.get(t)},U.prototype.has=function(t){return this.__data__.has(t)},U.prototype.set=function(t,e){var r=this.__data__;if(r instanceof i){var n=r.__data__;if(!N||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new $(n)}return r.set(t,e),this.size=r.size,this};var C=function(){try{var t=D(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var R=Object.prototype.hasOwnProperty;function W(t,e,r){var o=t[e];R.call(t,e)&&n(o,r)&&(void 0!==r||e in t)||function(t,e,r){"__proto__"==e&&C?C(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}(t,e,r)}function q(t){return null!=t&&"object"==typeof t}function G(t){return q(t)&&"[object Arguments]"==h(t)}var H=Object.prototype,J=H.hasOwnProperty,K=H.propertyIsEnumerable,Q=G(function(){return arguments}())?G:function(t){return q(t)&&J.call(t,"callee")&&!K.call(t,"callee")},X=Array.isArray;var Y="object"==typeof exports&&exports&&!exports.nodeType&&exports,Z=Y&&"object"==typeof module&&module&&!module.nodeType&&module,tt=Z&&Z.exports===Y?s.Buffer:void 0,et=(tt?tt.isBuffer:void 0)||function(){return!1},rt=/^(?:0|[1-9]\d*)$/;function nt(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&rt.test(t))&&t>-1&&t%1==0&&t<e}function ot(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var ut={};function it(t){return function(e){return t(e)}}ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var at="object"==typeof exports&&exports&&!exports.nodeType&&exports,ct=at&&"object"==typeof module&&module&&!module.nodeType&&module,st=ct&&ct.exports===at&&a.process,ft=function(){try{var t=ct&&ct.require&&ct.require("util").types;return t||st&&st.binding&&st.binding("util")}catch(t){}}(),lt=ft&&ft.isTypedArray,bt=lt?it(lt):function(t){return q(t)&&ot(t.length)&&!!ut[h(t)]},yt=Object.prototype.hasOwnProperty;function pt(t,e){var r=X(t),n=!r&&Q(t),o=!r&&!n&&et(t),u=!r&&!n&&!o&&bt(t),i=r||n||o||u,a=i?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var s in t)!yt.call(t,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||u&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||nt(s,c))||a.push(s);return a}var dt=Object.prototype;function vt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||dt)}function ht(t,e){return function(r){return t(e(r))}}var jt=ht(Object.keys,Object),gt=Object.prototype.hasOwnProperty;function _t(t){return null!=t&&ot(t.length)&&!g(t)}function mt(t){return _t(t)?pt(t):function(t){if(!vt(t))return jt(t);var e=[];for(var r in Object(t))gt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var At="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ot=At&&"object"==typeof module&&module&&!module.nodeType&&module,wt=Ot&&Ot.exports===At?s.Buffer:void 0;wt&&wt.allocUnsafe;var Ft=Object.prototype.propertyIsEnumerable,St=Object.getOwnPropertySymbols,Mt=St?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,u=[];++r<n;){var i=t[r];e(i,r,t)&&(u[o++]=i)}return u}(St(t),(function(e){return Ft.call(t,e)})))}:function(){return[]};var xt=ht(Object.getPrototypeOf,Object);function Tt(t){return function(t,e,r){var n=e(t);return X(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,mt,Mt)}var Bt=D(s,"DataView"),zt=D(s,"Promise"),Dt=D(s,"Set"),Nt=D(s,"WeakMap"),Vt="[object Map]",kt="[object Promise]",Et="[object Set]",Pt="[object WeakMap]",It="[object DataView]",$t=w(Bt),Ut=w(N),Lt=w(zt),Ct=w(Dt),Rt=w(Nt),Wt=h;(Bt&&Wt(new Bt(new ArrayBuffer(1)))!=It||N&&Wt(new N)!=Vt||zt&&Wt(zt.resolve())!=kt||Dt&&Wt(new Dt)!=Et||Nt&&Wt(new Nt)!=Pt)&&(Wt=function(t){var e=h(t),r="[object Object]"==e?t.constructor:void 0,n=r?w(r):"";if(n)switch(n){case $t:return It;case Ut:return Vt;case Lt:return kt;case Ct:return Et;case Rt:return Pt}return e});var qt=Object.prototype.hasOwnProperty;var Gt=s.Uint8Array;function Ht(t){var e=new t.constructor(t.byteLength);return new Gt(e).set(new Gt(t)),e}var Jt=/\w*$/;var Kt=f?f.prototype:void 0,Qt=Kt?Kt.valueOf:void 0;function Xt(t,e,r){var n,o,u,i,a,c=t.constructor;switch(e){case"[object ArrayBuffer]":return Ht(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return a=Ht((i=t).buffer),new i.constructor(a,i.byteOffset,i.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t){var e=Ht(t.buffer);return new t.constructor(e,t.byteOffset,t.length)}(t);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return(u=new(o=t).constructor(o.source,Jt.exec(o))).lastIndex=o.lastIndex,u;case"[object Symbol]":return n=t,Qt?Object(Qt.call(n)):{}}}var Yt=Object.create,Zt=function(){function t(){}return function(e){if(!j(e))return{};if(Yt)return Yt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var te=ft&&ft.isMap,ee=te?it(te):function(t){return q(t)&&"[object Map]"==Wt(t)};var re=ft&&ft.isSet,ne=re?it(re):function(t){return q(t)&&"[object Set]"==Wt(t)},oe="[object Arguments]",ue="[object Function]",ie="[object Object]",ae={};function ce(t,e,r,n,o,u){var i;if(void 0!==i)return i;if(!j(t))return t;var a=X(t);if(a)i=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&qt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t);else{var c=Wt(t),s=c==ue||"[object GeneratorFunction]"==c;if(et(t))return t.slice();if(c==ie||c==oe||s&&!o)i=s?{}:function(t){return"function"!=typeof t.constructor||vt(t)?{}:Zt(xt(t))}(t);else{if(!ae[c])return o?t:{};i=Xt(t,c)}}u||(u=new U);var f=u.get(t);if(f)return f;u.set(t,i),ne(t)?t.forEach((function(n){i.add(ce(n,e,r,n,t,u))})):ee(t)&&t.forEach((function(n,o){i.set(o,ce(n,e,r,o,t,u))}));var l=a?void 0:Tt(t);return L(l||t,(function(n,o){l&&(n=t[o=n]),W(i,o,ce(n,e,r,o,t,u))})),i}ae[oe]=ae["[object Array]"]=ae["[object ArrayBuffer]"]=ae["[object DataView]"]=ae["[object Boolean]"]=ae["[object Date]"]=ae["[object Float32Array]"]=ae["[object Float64Array]"]=ae["[object Int8Array]"]=ae["[object Int16Array]"]=ae["[object Int32Array]"]=ae["[object Map]"]=ae["[object Number]"]=ae[ie]=ae["[object RegExp]"]=ae["[object Set]"]=ae["[object String]"]=ae["[object Symbol]"]=ae["[object Uint8Array]"]=ae["[object Uint8ClampedArray]"]=ae["[object Uint16Array]"]=ae["[object Uint32Array]"]=!0,ae["[object Error]"]=ae[ue]=ae["[object WeakMap]"]=!1;function se(t){return ce(t,5)}var fe=/\s/;var le=/^\s+/;function be(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&fe.test(t.charAt(e)););return e}(t)+1).replace(le,""):t}function ye(t){return"symbol"==typeof t||q(t)&&"[object Symbol]"==h(t)}var pe=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,ve=/^0o[0-7]+$/i,he=parseInt;var je=1/0;function ge(t){return t?(t=function(t){if("number"==typeof t)return t;if(ye(t))return NaN;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=be(t);var r=de.test(t);return r||ve.test(t)?he(t.slice(2),r?2:8):pe.test(t)?NaN:+t}(t))===je||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function _e(t){return"number"==typeof t&&t==function(t){var e=ge(t),r=e%1;return e==e?r?e-r:e:0}(t)}function me(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function Ae(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],u=r.cache;if(u.has(o))return u.get(o);var i=t.apply(this,n);return r.cache=u.set(o,i)||u,i};return r.cache=new(Ae.Cache||$),r}Ae.Cache=$;var Oe,we,Fe,Se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/\\(\\)?/g,xe=(Oe=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Se,(function(t,r,n,o){e.push(n?o.replace(Me,"$1"):r||t)})),e},we=Ae(Oe,(function(t){return 500===Fe.size&&Fe.clear(),t})),Fe=we.cache,we);function Te(t){if("string"==typeof t||ye(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}var Be=f?f.prototype:void 0,ze=Be?Be.toString:void 0;function De(t){if("string"==typeof t)return t;if(X(t))return me(t,De)+"";if(ye(t))return ze?ze.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ne(t){return null==t?"":De(t)}function Ve(t){return X(t)?me(t,Te):ye(t)?[t]:function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(xe(Ne(t)))}function ke(t,e,r,n=0){const o=Ve(e);for(;t&&n<o.length;)t=t[o[n++]];return n===o.length||t?void 0===t?r:t:r}function Ee(t,e,r=new WeakMap,n={}){for(let o of Object.keys(t)){const u=t[o];j(u)?r.get(u)||(r.set(u,!0),n[o]=Array.isArray(u)?[]:{},Ee(u,e,r,n[o])):n[o]=e}return n}function Pe(t,e,...r){return r.forEach((r=>{t=$e(t,e,r)})),t}function Ie(t,e){let r=se(t),n=0,o=Ve(e);for(;n<o.length-1;n++){const e=o[n];let u=ke(t,o.slice(0,n+1));if(u&&(j(u)||Array.isArray(u)))r=r[e]=se(u);else{const t=o[n+1];r=r[e]=_e(t)&&Number(t)>=0?[]:{}}}return r[o[n]]}function $e(t,e,r){let n=se(t),o=n,u=0,i=Ve(r);for(;u<i.length-1;u++){const e=i[u];let r=ke(t,i.slice(0,u+1));if(r&&(j(r)||Array.isArray(r)))o=o[e]=se(r);else{const t=i[u+1];o=o[e]=_e(t)&&Number(t)>=0?[]:{}}}return(0===u?t:o)[i[u]]===e?t:(void 0===e?delete o[i[u]]:o[i[u]]=e,0===u&&void 0===e&&delete n[i[u]],n)}function Ue(t,e,r){return Object.assign(Object.assign({},t),{mutation:Pe(t.mutation,e,...r)})}const Le=function(t,e){const r=(n=t,o=e.defaultValue,Ee(n,o));var n,o;const u={mutation:r},i=null==e?void 0:e.initialMutation;function a(){const t=(n=r,(e=u).mutation=se(n),e);var e,n;u.mutation=t.mutation}function c(){a();const t=null==i?void 0:i.mutatedAttributes,e=null==i?void 0:i.mutatedValue;if(t&&e&&X(t)&&t.length>0){const r=Ue(u,e,t);u.mutation=r.mutation}}return c(),{get initiallyMutatedAttributes(){return null==i?void 0:i.mutatedAttributes},get initiallyMutatedValue(){return null==i?void 0:i.mutatedValue},get state(){return u.mutation},clear:a,reset:c,setAll:function(t){const e=function(t,e){return{mutation:Ee(t.mutation,e)}}(u,t);u.mutation=e.mutation},getMutatedByAttributeName:function(t){var e;return e=t,Ie(u.mutation,e)},setMutatedByAttributeName:function(t,e){const r=function(t,e,r){return Object.assign(Object.assign({},t),{mutation:$e(t.mutation,e,r)})}(u,t,e);u.mutation=r.mutation},setMutatedByAttributeNames:function(t,e){const r=Ue(u,t,e);u.mutation=r.mutation}}};function Ce(e,r){const n=t(Le(e,{defaultValue:!1,initialMutation:{mutatedAttributes:r?.initiallyTouched,mutatedValue:!0}})),o=t(Le(e,{defaultValue:!1,initialMutation:{mutatedAttributes:r?.initiallyDirty,mutatedValue:!0}}));return{errorStateTracker:t(Le(e,{defaultValue:[]})).current,touchedStateTracker:n.current,dirtyStateTracker:o.current}}function Re(t){return t}var We=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qe=/^\w*$/;function Ge(t,e){if(X(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ye(t))||(qe.test(t)||!We.test(t)||null!=e&&t in Object(e))}function He(t,e){return X(t)?t:Ge(t,e)?[t]:xe(Ne(t))}function Je(t,e){for(var r=0,n=(e=He(e,t)).length;null!=t&&r<n;)t=t[Te(e[r++])];return r&&r==n?t:void 0}function Ke(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new $;++e<r;)this.add(t[e])}function Qe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Xe(t,e){return t.has(e)}Ke.prototype.add=Ke.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ke.prototype.has=function(t){return this.__data__.has(t)};function Ye(t,e,r,n,o,u){var i=1&r,a=t.length,c=e.length;if(a!=c&&!(i&&c>a))return!1;var s=u.get(t),f=u.get(e);if(s&&f)return s==e&&f==t;var l=-1,b=!0,y=2&r?new Ke:void 0;for(u.set(t,e),u.set(e,t);++l<a;){var p=t[l],d=e[l];if(n)var v=i?n(d,p,l,e,t,u):n(p,d,l,t,e,u);if(void 0!==v){if(v)continue;b=!1;break}if(y){if(!Qe(e,(function(t,e){if(!Xe(y,e)&&(p===t||o(p,t,r,n,u)))return y.push(e)}))){b=!1;break}}else if(p!==d&&!o(p,d,r,n,u)){b=!1;break}}return u.delete(t),u.delete(e),b}function Ze(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function tr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var er=f?f.prototype:void 0,rr=er?er.valueOf:void 0;var nr=Object.prototype.hasOwnProperty;var or="[object Arguments]",ur="[object Array]",ir="[object Object]",ar=Object.prototype.hasOwnProperty;function cr(t,e,r,o,u,i){var a=X(t),c=X(e),s=a?ur:Wt(t),f=c?ur:Wt(e),l=(s=s==or?ir:s)==ir,b=(f=f==or?ir:f)==ir,y=s==f;if(y&&et(t)){if(!et(e))return!1;a=!0,l=!1}if(y&&!l)return i||(i=new U),a||bt(t)?Ye(t,e,r,o,u,i):function(t,e,r,o,u,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Gt(t),new Gt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Ze;case"[object Set]":var s=1&o;if(c||(c=tr),t.size!=e.size&&!s)return!1;var f=a.get(t);if(f)return f==e;o|=2,a.set(t,e);var l=Ye(c(t),c(e),o,u,i,a);return a.delete(t),l;case"[object Symbol]":if(rr)return rr.call(t)==rr.call(e)}return!1}(t,e,s,r,o,u,i);if(!(1&r)){var p=l&&ar.call(t,"__wrapped__"),d=b&&ar.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,h=d?e.value():e;return i||(i=new U),u(v,h,r,o,i)}}return!!y&&(i||(i=new U),function(t,e,r,n,o,u){var i=1&r,a=Tt(t),c=a.length;if(c!=Tt(e).length&&!i)return!1;for(var s=c;s--;){var f=a[s];if(!(i?f in e:nr.call(e,f)))return!1}var l=u.get(t),b=u.get(e);if(l&&b)return l==e&&b==t;var y=!0;u.set(t,e),u.set(e,t);for(var p=i;++s<c;){var d=t[f=a[s]],v=e[f];if(n)var h=i?n(v,d,f,e,t,u):n(d,v,f,t,e,u);if(!(void 0===h?d===v||o(d,v,r,n,u):h)){y=!1;break}p||(p="constructor"==f)}if(y&&!p){var j=t.constructor,g=e.constructor;j==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof j&&j instanceof j&&"function"==typeof g&&g instanceof g||(y=!1)}return u.delete(t),u.delete(e),y}(t,e,r,o,u,i))}function sr(t,e,r,n,o){return t===e||(null==t||null==e||!q(t)&&!q(e)?t!=t&&e!=e:cr(t,e,r,n,sr,o))}function fr(t){return t==t&&!j(t)}function lr(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function br(t){var e=function(t){for(var e=mt(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,fr(o)]}return e}(t);return 1==e.length&&e[0][2]?lr(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,u=o;if(null==t)return!u;for(t=Object(t);o--;){var i=r[o];if(i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++o<u;){var a=(i=r[o])[0],c=t[a],s=i[1];if(i[2]){if(void 0===c&&!(a in t))return!1}else if(!sr(s,c,3,n,new U))return!1}return!0}(r,0,e)}}function yr(t,e){return null!=t&&e in Object(t)}function pr(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=He(e,t)).length,u=!1;++n<o;){var i=Te(e[n]);if(!(u=null!=t&&r(t,i)))break;t=t[i]}return u||++n!=o?u:!!(o=null==t?0:t.length)&&ot(o)&&nt(i,o)&&(X(t)||Q(t))}(t,e,yr)}function dr(t,e){return Ge(t)&&fr(e)?lr(Te(t),e):function(r){var n=function(t,e,r){var n=null==t?void 0:Je(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?pr(r,t):sr(e,n,3)}}function vr(t){return Ge(t)?(e=Te(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return Je(e,t)}}(t);var e}function hr(t){return"function"==typeof t?t:null==t?Re:"object"==typeof t?X(t)?dr(t[0],t[1]):br(t):vr(t)}var jr=function(t,e,r){for(var n=-1,o=Object(t),u=r(t),i=u.length;i--;){var a=u[++n];if(!1===e(o[a],a,o))break}return t};var gr,_r=(gr=function(t,e){return t&&jr(t,e,mt)},function(t,e){if(null==t)return t;if(!_t(t))return gr(t,e);for(var r=t.length,n=-1,o=Object(t);++n<r&&!1!==e(o[n],n,o););return t});function mr(t,e){var r;return(X(t)?L:_r)(t,"function"==typeof(r=e)?r:Re)}function Ar(t,e){var r=-1,n=_t(t)?Array(t.length):[];return _r(t,(function(t,o,u){n[++r]=e(t,o,u)})),n}function Or(t,e){var r;return _r(t,(function(t,n,o){return!(r=e(t,n,o))})),!!r}function wr(t,e){return Ie(t,e)}function Fr(t,e,r){return $e(t,e,r)}function Sr(t,e){return function t(e,r="",n="."){const o={};for(const u in e)if(e.hasOwnProperty(u)){const i=r?r+n+u:u;j(e[u])&&null!==e[u]?Object.assign(o,t(e[u],i,n)):o[i]=e[u]}return o}(t,"",e)}function Mr(t,e){const r=[];return function t(e,n="",o="."){for(const u in e)if(e.hasOwnProperty(u)){const i=n?`${n}.${u}`:u;j(e[u])&&null!==e[u]?t(e[u],i,o):r.push({key:i,value:e[u]})}}(t,"",e),r}function xr(t,r){const[n,o]=e([]),{touchedStateTracker:u,dirtyStateTracker:i,errorStateTracker:a}=Ce(t,r),[,c]=e(0);function s(){c((t=>t+1))}return{errorFlatList:n,errors:a.state,touched:u.state,dirty:i.state,getFieldState:function(t,e,r){var n=a.getMutatedByAttributeName(t);return{name:t,currentValue:e,previousValue:r,touched:u.getMutatedByAttributeName(t),dirty:i.getMutatedByAttributeName(t),isValid:!!n.length,errors:n}},getFieldTouched:function(t){return u.getMutatedByAttributeName(t)},setFieldTouched:function(t,e){u.setMutatedByAttributeName(t,e),s()},setFieldsTouched:function(t,e){u.setMutatedByAttributeNames(t,e),s()},setTouchedAll:function(t){u.setAll(t),s()},getFieldDirty:function(t){return i.getMutatedByAttributeName(t)},setFieldDirty:function(t,e){i.setMutatedByAttributeName(t,e),s()},setFieldsDirty:function(t,e){i.setMutatedByAttributeNames(t,e),s()},setDirtyAll:function(t){i.setAll(t),s()},getFieldValid:function(t){return(a.getMutatedByAttributeName(t).length??0)<=0},getFieldErrors:function(t){var e,r,n=a.getMutatedByAttributeName(t);return r=t=>t,(X(e=n)?me:Ar)(e,hr(r))},setErrorsAll:function(t){o(t),a.clear(),mr(Object.groupBy(t,(({key:t})=>t)),((t,e)=>{var r=t?.map((t=>t.message))||[];a.setMutatedByAttributeName(r,e)}))},isFormDirty:function(){return t=Mr(i.state,"."),e=t=>t.value,(X(t)?Qe:Or)(t,hr(e));var t,e},isFormValid:function(){return!n.length}}}var Tr=Object.freeze({__proto__:null,useFormValidation:function(t,n,o){const[u,i]=e(!1),{errorFlatList:a,errors:c,touched:s,dirty:f,getFieldTouched:l,setFieldTouched:b,setFieldsTouched:y,setTouchedAll:p,getFieldDirty:d,setFieldDirty:v,setFieldsDirty:h,setDirtyAll:j,getFieldValid:g,getFieldErrors:_,setErrorsAll:m,getFieldState:A,isFormDirty:O,isFormValid:w}=xr(n,o);function F(){var t=!1;return(async()=>{await S().then((e=>t=e)).catch((()=>t=!1))})(),t}function S(){return t.validate(n).then((t=>(m(t),w())))}return r((()=>{F()}),[]),{errorFlatList:a,errors:c,touched:s,dirty:f,isSubmitting:u,isFormDirty:O,isFormValid:w,validateAsync:S,validate:F,setIsSubmitting:function(t){i(t)},getFieldState:A,getFieldTouched:l,setFieldTouched:b,setFieldsTouched:y,setTouchedAll:p,getFieldDirty:d,setFieldDirty:v,setFieldsDirty:h,setDirtyAll:j,getFieldValid:g,getFieldErrors:_}}});export{Sr as flattenObject,Mr as flattenObjectToArray,wr as getDeep,Fr as setDeep,xr as useFormFieldState,Tr as useMabel,Ce as useStateTrackers};
//# sourceMappingURL=index.mjs.map
