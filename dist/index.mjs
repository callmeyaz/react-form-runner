import{useRef as t,useState as e,useEffect as r}from"react";function n(t,e,r,n){return new(r||(r=Promise))((function(o,u){function i(t){try{c(n.next(t))}catch(t){u(t)}}function a(t){try{c(n.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,a)}c((n=n.apply(t,e||[])).next())}))}function o(t,e){return t===e||t!=t&&e!=e}function u(t,e){for(var r=t.length;r--;)if(o(t[r][0],e))return r;return-1}"function"==typeof SuppressedError&&SuppressedError;var i=Array.prototype.splice;function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(t){var e=this.__data__,r=u(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)},a.prototype.get=function(t){var e=this.__data__,r=u(e,t);return r<0?void 0:e[r][1]},a.prototype.has=function(t){return u(this.__data__,t)>-1},a.prototype.set=function(t,e){var r=this.__data__,n=u(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var c="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,f=c||s||Function("return this")(),l=f.Symbol,y=Object.prototype,b=y.hasOwnProperty,d=y.toString,p=l?l.toStringTag:void 0;var v=Object.prototype.toString;var h=l?l.toStringTag:void 0;function j(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=b.call(t,p),r=t[p];try{t[p]=void 0;var n=!0}catch(t){}var o=d.call(t);return n&&(e?t[p]=r:delete t[p]),o}(t):function(t){return v.call(t)}(t)}function g(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function _(t){if(!g(t))return!1;var e=j(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var m,A=f["__core-js_shared__"],O=(m=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"";var w=Function.prototype.toString;function F(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var S=/^\[object .+?Constructor\]$/,M=Function.prototype,x=Object.prototype,T=M.toString,B=x.hasOwnProperty,z=RegExp("^"+T.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function D(t){return!(!g(t)||(e=t,O&&O in e))&&(_(t)?z:S).test(F(t));var e}function N(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return D(r)?r:void 0}var E=N(f,"Map"),V=N(Object,"create");var k=Object.prototype.hasOwnProperty;var P=Object.prototype.hasOwnProperty;function I(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function U(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}I.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},I.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},I.prototype.get=function(t){var e=this.__data__;if(V){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return k.call(e,t)?e[t]:void 0},I.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:P.call(e,t)},I.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=V&&void 0===e?"__lodash_hash_undefined__":e,this},U.prototype.clear=function(){this.size=0,this.__data__={hash:new I,map:new(E||a),string:new I}},U.prototype.delete=function(t){var e=$(this,t).delete(t);return this.size-=e?1:0,e},U.prototype.get=function(t){return $(this,t).get(t)},U.prototype.has=function(t){return $(this,t).has(t)},U.prototype.set=function(t,e){var r=$(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function L(t){var e=this.__data__=new a(t);this.size=e.size}function C(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}L.prototype.clear=function(){this.__data__=new a,this.size=0},L.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},L.prototype.get=function(t){return this.__data__.get(t)},L.prototype.has=function(t){return this.__data__.has(t)},L.prototype.set=function(t,e){var r=this.__data__;if(r instanceof a){var n=r.__data__;if(!E||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new U(n)}return r.set(t,e),this.size=r.size,this};var R=function(){try{var t=N(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var W=Object.prototype.hasOwnProperty;function q(t,e,r){var n=t[e];W.call(t,e)&&o(n,r)&&(void 0!==r||e in t)||function(t,e,r){"__proto__"==e&&R?R(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}(t,e,r)}function G(t){return null!=t&&"object"==typeof t}function H(t){return G(t)&&"[object Arguments]"==j(t)}var J=Object.prototype,K=J.hasOwnProperty,Q=J.propertyIsEnumerable,X=H(function(){return arguments}())?H:function(t){return G(t)&&K.call(t,"callee")&&!Q.call(t,"callee")},Y=Array.isArray;var Z="object"==typeof exports&&exports&&!exports.nodeType&&exports,tt=Z&&"object"==typeof module&&module&&!module.nodeType&&module,et=tt&&tt.exports===Z?f.Buffer:void 0,rt=(et?et.isBuffer:void 0)||function(){return!1},nt=/^(?:0|[1-9]\d*)$/;function ot(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&nt.test(t))&&t>-1&&t%1==0&&t<e}function ut(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var it={};function at(t){return function(e){return t(e)}}it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Arguments]"]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object Boolean]"]=it["[object DataView]"]=it["[object Date]"]=it["[object Error]"]=it["[object Function]"]=it["[object Map]"]=it["[object Number]"]=it["[object Object]"]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object WeakMap]"]=!1;var ct="object"==typeof exports&&exports&&!exports.nodeType&&exports,st=ct&&"object"==typeof module&&module&&!module.nodeType&&module,ft=st&&st.exports===ct&&c.process,lt=function(){try{var t=st&&st.require&&st.require("util").types;return t||ft&&ft.binding&&ft.binding("util")}catch(t){}}(),yt=lt&&lt.isTypedArray,bt=yt?at(yt):function(t){return G(t)&&ut(t.length)&&!!it[j(t)]},dt=Object.prototype.hasOwnProperty;function pt(t,e){var r=Y(t),n=!r&&X(t),o=!r&&!n&&rt(t),u=!r&&!n&&!o&&bt(t),i=r||n||o||u,a=i?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var s in t)!dt.call(t,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||u&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ot(s,c))||a.push(s);return a}var vt=Object.prototype;function ht(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||vt)}function jt(t,e){return function(r){return t(e(r))}}var gt=jt(Object.keys,Object),_t=Object.prototype.hasOwnProperty;function mt(t){return null!=t&&ut(t.length)&&!_(t)}function At(t){return mt(t)?pt(t):function(t){if(!ht(t))return gt(t);var e=[];for(var r in Object(t))_t.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var Ot="object"==typeof exports&&exports&&!exports.nodeType&&exports,wt=Ot&&"object"==typeof module&&module&&!module.nodeType&&module,Ft=wt&&wt.exports===Ot?f.Buffer:void 0;Ft&&Ft.allocUnsafe;var St=Object.prototype.propertyIsEnumerable,Mt=Object.getOwnPropertySymbols,xt=Mt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,u=[];++r<n;){var i=t[r];e(i,r,t)&&(u[o++]=i)}return u}(Mt(t),(function(e){return St.call(t,e)})))}:function(){return[]};var Tt=jt(Object.getPrototypeOf,Object);function Bt(t){return function(t,e,r){var n=e(t);return Y(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,At,xt)}var zt=N(f,"DataView"),Dt=N(f,"Promise"),Nt=N(f,"Set"),Et=N(f,"WeakMap"),Vt="[object Map]",kt="[object Promise]",Pt="[object Set]",It="[object WeakMap]",$t="[object DataView]",Ut=F(zt),Lt=F(E),Ct=F(Dt),Rt=F(Nt),Wt=F(Et),qt=j;(zt&&qt(new zt(new ArrayBuffer(1)))!=$t||E&&qt(new E)!=Vt||Dt&&qt(Dt.resolve())!=kt||Nt&&qt(new Nt)!=Pt||Et&&qt(new Et)!=It)&&(qt=function(t){var e=j(t),r="[object Object]"==e?t.constructor:void 0,n=r?F(r):"";if(n)switch(n){case Ut:return $t;case Lt:return Vt;case Ct:return kt;case Rt:return Pt;case Wt:return It}return e});var Gt=Object.prototype.hasOwnProperty;var Ht=f.Uint8Array;function Jt(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}var Kt=/\w*$/;var Qt=l?l.prototype:void 0,Xt=Qt?Qt.valueOf:void 0;function Yt(t,e,r){var n,o,u,i,a,c=t.constructor;switch(e){case"[object ArrayBuffer]":return Jt(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return a=Jt((i=t).buffer),new i.constructor(a,i.byteOffset,i.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t){var e=Jt(t.buffer);return new t.constructor(e,t.byteOffset,t.length)}(t);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return(u=new(o=t).constructor(o.source,Kt.exec(o))).lastIndex=o.lastIndex,u;case"[object Symbol]":return n=t,Xt?Object(Xt.call(n)):{}}}var Zt=Object.create,te=function(){function t(){}return function(e){if(!g(e))return{};if(Zt)return Zt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var ee=lt&&lt.isMap,re=ee?at(ee):function(t){return G(t)&&"[object Map]"==qt(t)};var ne=lt&&lt.isSet,oe=ne?at(ne):function(t){return G(t)&&"[object Set]"==qt(t)},ue="[object Arguments]",ie="[object Function]",ae="[object Object]",ce={};function se(t,e,r,n,o,u){var i;if(void 0!==i)return i;if(!g(t))return t;var a=Y(t);if(a)i=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Gt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t);else{var c=qt(t),s=c==ie||"[object GeneratorFunction]"==c;if(rt(t))return t.slice();if(c==ae||c==ue||s&&!o)i=s?{}:function(t){return"function"!=typeof t.constructor||ht(t)?{}:te(Tt(t))}(t);else{if(!ce[c])return o?t:{};i=Yt(t,c)}}u||(u=new L);var f=u.get(t);if(f)return f;u.set(t,i),oe(t)?t.forEach((function(n){i.add(se(n,e,r,n,t,u))})):re(t)&&t.forEach((function(n,o){i.set(o,se(n,e,r,o,t,u))}));var l=a?void 0:Bt(t);return C(l||t,(function(n,o){l&&(n=t[o=n]),q(i,o,se(n,e,r,o,t,u))})),i}ce[ue]=ce["[object Array]"]=ce["[object ArrayBuffer]"]=ce["[object DataView]"]=ce["[object Boolean]"]=ce["[object Date]"]=ce["[object Float32Array]"]=ce["[object Float64Array]"]=ce["[object Int8Array]"]=ce["[object Int16Array]"]=ce["[object Int32Array]"]=ce["[object Map]"]=ce["[object Number]"]=ce[ae]=ce["[object RegExp]"]=ce["[object Set]"]=ce["[object String]"]=ce["[object Symbol]"]=ce["[object Uint8Array]"]=ce["[object Uint8ClampedArray]"]=ce["[object Uint16Array]"]=ce["[object Uint32Array]"]=!0,ce["[object Error]"]=ce[ie]=ce["[object WeakMap]"]=!1;function fe(t){return se(t,5)}var le=/\s/;var ye=/^\s+/;function be(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&le.test(t.charAt(e)););return e}(t)+1).replace(ye,""):t}function de(t){return"symbol"==typeof t||G(t)&&"[object Symbol]"==j(t)}var pe=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,he=/^0o[0-7]+$/i,je=parseInt;var ge=1/0;function _e(t){return t?(t=function(t){if("number"==typeof t)return t;if(de(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=be(t);var r=ve.test(t);return r||he.test(t)?je(t.slice(2),r?2:8):pe.test(t)?NaN:+t}(t))===ge||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function me(t){return"number"==typeof t&&t==function(t){var e=_e(t),r=e%1;return e==e?r?e-r:e:0}(t)}function Ae(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function Oe(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],u=r.cache;if(u.has(o))return u.get(o);var i=t.apply(this,n);return r.cache=u.set(o,i)||u,i};return r.cache=new(Oe.Cache||U),r}Oe.Cache=U;var we,Fe,Se,Me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xe=/\\(\\)?/g,Te=(we=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Me,(function(t,r,n,o){e.push(n?o.replace(xe,"$1"):r||t)})),e},Fe=Oe(we,(function(t){return 500===Se.size&&Se.clear(),t})),Se=Fe.cache,Fe);function Be(t){if("string"==typeof t||de(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}var ze=l?l.prototype:void 0,De=ze?ze.toString:void 0;function Ne(t){if("string"==typeof t)return t;if(Y(t))return Ae(t,Ne)+"";if(de(t))return De?De.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ee(t){return null==t?"":Ne(t)}function Ve(t){return Y(t)?Ae(t,Be):de(t)?[t]:function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(Te(Ee(t)))}function ke(t,e,r,n=0){const o=Ve(e);for(;t&&n<o.length;)t=t[o[n++]];return n===o.length||t?void 0===t?r:t:r}function Pe(t,e,r=new WeakMap,n={}){for(let o of Object.keys(t)){const u=t[o];g(u)?r.get(u)||(r.set(u,!0),n[o]=Array.isArray(u)?[]:{},Pe(u,e,r,n[o])):n[o]=e}return n}function Ie(t,e,...r){return r.forEach((r=>{t=Ue(t,e,r)})),t}function $e(t,e){let r=fe(t),n=0,o=Ve(e);for(;n<o.length-1;n++){const e=o[n];let u=ke(t,o.slice(0,n+1));if(u&&(g(u)||Array.isArray(u)))r=r[e]=fe(u);else{const t=o[n+1];r=r[e]=me(t)&&Number(t)>=0?[]:{}}}return r[o[n]]}function Ue(t,e,r){let n=fe(t),o=n,u=0,i=Ve(r);for(;u<i.length-1;u++){const e=i[u];let r=ke(t,i.slice(0,u+1));if(r&&(g(r)||Array.isArray(r)))o=o[e]=fe(r);else{const t=i[u+1];o=o[e]=me(t)&&Number(t)>=0?[]:{}}}return(0===u?t:o)[i[u]]===e?t:(void 0===e?delete o[i[u]]:o[i[u]]=e,0===u&&void 0===e&&delete n[i[u]],n)}function Le(t,e,r){return Object.assign(Object.assign({},t),{mutation:Ie(t.mutation,e,...r)})}const Ce=function(t,e){const r=(n=t,o=e.defaultValue,Pe(n,o));var n,o;const u={mutation:r},i=null==e?void 0:e.initialMutation;function a(){const t=(n=r,(e=u).mutation=fe(n),e);var e,n;u.mutation=t.mutation}function c(){a();const t=null==i?void 0:i.mutatedAttributes,e=null==i?void 0:i.mutatedValue;if(t&&e&&Y(t)&&t.length>0){const r=Le(u,e,t);u.mutation=r.mutation}}return c(),{get initiallyMutatedAttributes(){return null==i?void 0:i.mutatedAttributes},get initiallyMutatedValue(){return null==i?void 0:i.mutatedValue},get state(){return u.mutation},clear:a,reset:c,setAll:function(t){const e=function(t,e){return{mutation:Pe(t.mutation,e)}}(u,t);u.mutation=e.mutation},getMutatedByAttributeName:function(t){var e;return e=t,$e(u.mutation,e)},setMutatedByAttributeName:function(t,e){const r=function(t,e,r){return Object.assign(Object.assign({},t),{mutation:Ue(t.mutation,e,r)})}(u,t,e);u.mutation=r.mutation},setMutatedByAttributeNames:function(t,e){const r=Le(u,t,e);u.mutation=r.mutation}}};function Re(e,r){const n=t(Ce(e,{defaultValue:!1,initialMutation:{mutatedAttributes:null==r?void 0:r.initiallyTouched,mutatedValue:!0}})),o=t(Ce(e,{defaultValue:!1,initialMutation:{mutatedAttributes:null==r?void 0:r.initiallyDirty,mutatedValue:!0}}));return{errorStateTracker:t(Ce(e,{defaultValue:[]})).current,touchedStateTracker:n.current,dirtyStateTracker:o.current}}function We(t){return t}var qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ge=/^\w*$/;function He(t,e){if(Y(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!de(t))||(Ge.test(t)||!qe.test(t)||null!=e&&t in Object(e))}function Je(t,e){return Y(t)?t:He(t,e)?[t]:Te(Ee(t))}function Ke(t,e){for(var r=0,n=(e=Je(e,t)).length;null!=t&&r<n;)t=t[Be(e[r++])];return r&&r==n?t:void 0}function Qe(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new U;++e<r;)this.add(t[e])}function Xe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Ye(t,e){return t.has(e)}Qe.prototype.add=Qe.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Qe.prototype.has=function(t){return this.__data__.has(t)};function Ze(t,e,r,n,o,u){var i=1&r,a=t.length,c=e.length;if(a!=c&&!(i&&c>a))return!1;var s=u.get(t),f=u.get(e);if(s&&f)return s==e&&f==t;var l=-1,y=!0,b=2&r?new Qe:void 0;for(u.set(t,e),u.set(e,t);++l<a;){var d=t[l],p=e[l];if(n)var v=i?n(p,d,l,e,t,u):n(d,p,l,t,e,u);if(void 0!==v){if(v)continue;y=!1;break}if(b){if(!Xe(e,(function(t,e){if(!Ye(b,e)&&(d===t||o(d,t,r,n,u)))return b.push(e)}))){y=!1;break}}else if(d!==p&&!o(d,p,r,n,u)){y=!1;break}}return u.delete(t),u.delete(e),y}function tr(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function er(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var rr=l?l.prototype:void 0,nr=rr?rr.valueOf:void 0;var or=Object.prototype.hasOwnProperty;var ur="[object Arguments]",ir="[object Array]",ar="[object Object]",cr=Object.prototype.hasOwnProperty;function sr(t,e,r,n,u,i){var a=Y(t),c=Y(e),s=a?ir:qt(t),f=c?ir:qt(e),l=(s=s==ur?ar:s)==ar,y=(f=f==ur?ar:f)==ar,b=s==f;if(b&&rt(t)){if(!rt(e))return!1;a=!0,l=!1}if(b&&!l)return i||(i=new L),a||bt(t)?Ze(t,e,r,n,u,i):function(t,e,r,n,u,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Ht(t),new Ht(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=tr;case"[object Set]":var s=1&n;if(c||(c=er),t.size!=e.size&&!s)return!1;var f=a.get(t);if(f)return f==e;n|=2,a.set(t,e);var l=Ze(c(t),c(e),n,u,i,a);return a.delete(t),l;case"[object Symbol]":if(nr)return nr.call(t)==nr.call(e)}return!1}(t,e,s,r,n,u,i);if(!(1&r)){var d=l&&cr.call(t,"__wrapped__"),p=y&&cr.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,h=p?e.value():e;return i||(i=new L),u(v,h,r,n,i)}}return!!b&&(i||(i=new L),function(t,e,r,n,o,u){var i=1&r,a=Bt(t),c=a.length;if(c!=Bt(e).length&&!i)return!1;for(var s=c;s--;){var f=a[s];if(!(i?f in e:or.call(e,f)))return!1}var l=u.get(t),y=u.get(e);if(l&&y)return l==e&&y==t;var b=!0;u.set(t,e),u.set(e,t);for(var d=i;++s<c;){var p=t[f=a[s]],v=e[f];if(n)var h=i?n(v,p,f,e,t,u):n(p,v,f,t,e,u);if(!(void 0===h?p===v||o(p,v,r,n,u):h)){b=!1;break}d||(d="constructor"==f)}if(b&&!d){var j=t.constructor,g=e.constructor;j==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof j&&j instanceof j&&"function"==typeof g&&g instanceof g||(b=!1)}return u.delete(t),u.delete(e),b}(t,e,r,n,u,i))}function fr(t,e,r,n,o){return t===e||(null==t||null==e||!G(t)&&!G(e)?t!=t&&e!=e:sr(t,e,r,n,fr,o))}function lr(t){return t==t&&!g(t)}function yr(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function br(t){var e=function(t){for(var e=At(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,lr(o)]}return e}(t);return 1==e.length&&e[0][2]?yr(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,u=o;if(null==t)return!u;for(t=Object(t);o--;){var i=r[o];if(i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++o<u;){var a=(i=r[o])[0],c=t[a],s=i[1];if(i[2]){if(void 0===c&&!(a in t))return!1}else if(!fr(s,c,3,n,new L))return!1}return!0}(r,0,e)}}function dr(t,e){return null!=t&&e in Object(t)}function pr(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=Je(e,t)).length,u=!1;++n<o;){var i=Be(e[n]);if(!(u=null!=t&&r(t,i)))break;t=t[i]}return u||++n!=o?u:!!(o=null==t?0:t.length)&&ut(o)&&ot(i,o)&&(Y(t)||X(t))}(t,e,dr)}function vr(t,e){return He(t)&&lr(e)?yr(Be(t),e):function(r){var n=function(t,e,r){var n=null==t?void 0:Ke(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?pr(r,t):fr(e,n,3)}}function hr(t){return He(t)?(e=Be(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return Ke(e,t)}}(t);var e}function jr(t){return"function"==typeof t?t:null==t?We:"object"==typeof t?Y(t)?vr(t[0],t[1]):br(t):hr(t)}var gr=function(t,e,r){for(var n=-1,o=Object(t),u=r(t),i=u.length;i--;){var a=u[++n];if(!1===e(o[a],a,o))break}return t};var _r,mr=(_r=function(t,e){return t&&gr(t,e,At)},function(t,e){if(null==t)return t;if(!mt(t))return _r(t,e);for(var r=t.length,n=-1,o=Object(t);++n<r&&!1!==e(o[n],n,o););return t});function Ar(t,e){var r;return(Y(t)?C:mr)(t,"function"==typeof(r=e)?r:We)}function Or(t,e){var r=-1,n=mt(t)?Array(t.length):[];return mr(t,(function(t,o,u){n[++r]=e(t,o,u)})),n}function wr(t,e){var r;return mr(t,(function(t,n,o){return!(r=e(t,n,o))})),!!r}function Fr(t,e){return $e(t,e)}function Sr(t,e,r){return Ue(t,e,r)}function Mr(t,e){return function t(e,r="",n="."){const o={};for(const u in e)if(e.hasOwnProperty(u)){const i=r?r+n+u:u;g(e[u])&&null!==e[u]?Object.assign(o,t(e[u],i,n)):o[i]=e[u]}return o}(t,"",e)}function xr(t,e){const r=[];return function t(e,n="",o="."){for(const u in e)if(e.hasOwnProperty(u)){const i=n?`${n}.${u}`:u;g(e[u])&&null!==e[u]?t(e[u],i,o):r.push({key:i,value:e[u]})}}(t,"",e),r}function Tr(t,r){const[n,o]=e([]),{touchedStateTracker:u,dirtyStateTracker:i,errorStateTracker:a}=Re(t,r),[,c]=e(0);function s(){c((t=>t+1))}return{errorFlatList:n,errors:a.state,touched:u.state,dirty:i.state,getFieldState:function(t,e,r){var n=a.getMutatedByAttributeName(t);return{name:t,currentValue:e,previousValue:r,touched:u.getMutatedByAttributeName(t),dirty:i.getMutatedByAttributeName(t),isValid:!!n.length,errors:n}},getFieldTouched:function(t){return u.getMutatedByAttributeName(t)},setFieldTouched:function(t,e){u.setMutatedByAttributeName(t,e),s()},setFieldsTouched:function(t,e){u.setMutatedByAttributeNames(t,e),s()},setTouchedAll:function(t){u.setAll(t),s()},getFieldDirty:function(t){return i.getMutatedByAttributeName(t)},setFieldDirty:function(t,e){i.setMutatedByAttributeName(t,e),s()},setFieldsDirty:function(t,e){i.setMutatedByAttributeNames(t,e),s()},setDirtyAll:function(t){i.setAll(t),s()},getFieldValid:function(t){var e;return(null!==(e=a.getMutatedByAttributeName(t).length)&&void 0!==e?e:0)<=0},getFieldErrors:function(t){var e,r,n=a.getMutatedByAttributeName(t);return r=t=>t,(Y(e=n)?Ae:Or)(e,jr(r))},setErrorsAll:function(t){o(t),a.clear(),Ar(Object.groupBy(t,(({key:t})=>t)),((t,e)=>{var r=(null==t?void 0:t.map((t=>t.message)))||[];a.setMutatedByAttributeName(r,e)}))},isFormDirty:function(){return t=xr(i.state,"."),e=t=>t.value,(Y(t)?Xe:wr)(t,jr(e));var t,e},isFormValid:function(){return!n.length}}}var Br=Object.freeze({__proto__:null,useFormValidation:function(t,o,u){const[i,a]=e(!1),{errorFlatList:c,errors:s,touched:f,dirty:l,getFieldTouched:y,setFieldTouched:b,setFieldsTouched:d,setTouchedAll:p,getFieldDirty:v,setFieldDirty:h,setFieldsDirty:j,setDirtyAll:g,getFieldValid:_,getFieldErrors:m,setErrorsAll:A,getFieldState:O,isFormDirty:w,isFormValid:F}=Tr(o,u);function S(){var t=!1;return(()=>{n(this,void 0,void 0,(function*(){return yield M().then((e=>t=e)).catch((()=>t=!1))}))})(),t}function M(){return t.validate(o).then((t=>(A(t),F())))}return r((()=>{S()}),[]),{errorFlatList:c,errors:s,touched:f,dirty:l,isSubmitting:i,isFormDirty:w,isFormValid:F,validateAsync:M,validate:S,setIsSubmitting:function(t){a(t)},getFieldState:O,getFieldTouched:y,setFieldTouched:b,setFieldsTouched:d,setTouchedAll:p,getFieldDirty:v,setFieldDirty:h,setFieldsDirty:j,setDirtyAll:g,getFieldValid:_,getFieldErrors:m}}});export{Mr as flattenObject,xr as flattenObjectToArray,Fr as getDeep,Sr as setDeep,Tr as useFormFieldState,Br as useMabel,Re as useStateTrackers};
//# sourceMappingURL=index.mjs.map
